
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>(ns brain.boot)</title>
  <meta name="author" content="Darong Mean">

  
  <meta name="description" content="This is a note from book &ldquo;Functional Programming for Java Developers&rdquo;. Why FP? Author discusses the following advantages of FP: write &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://darong-m.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="(ns brain.boot)" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-48117162-1']);
    _gaq.push(['_setDomainName','github.io']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
</hgroup>

</header>
  <!-- <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:darong-m.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav> -->
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/02/22/why-fp/">Why FP?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-02-22T16:56:05+07:00" pubdate data-updated="true">Feb 22<span>nd</span>, 2014</time>
        
         | <a href="/blog/2014/02/22/why-fp/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is a note from book &ldquo;Functional Programming for Java Developers&rdquo;.</p>

<h1>Why FP?</h1>

<p>Author discusses the following advantages of FP:</p>

<ul>
<li>write concurrent programs.</li>
</ul>


<p>This is the reason I pick up and learn funtional programming. There are many patterns in FP to solve concurrency issues. So far I am impressed with solution in Clojure, core.async.</p>

<ul>
<li>most programs are just data management problems</li>
</ul>


<p>This value is useful in data-driven system (which most management systems are) or big-data system. FP encourage to use generic data structure like List, Map, or Tree and those data structures works with combinator functions.
Example from the book: consider a <strong>List of email addresses for customers</strong>. I can filter for just the <strong>gmail</strong> addresses. I can map each addresses in the list to an appropriate anchor tag for displaying in a web page. I can fold over the list to group the users by domain.
In contrast, now imagine that I wrote my own custom <strong>EmailAddresses</strong> class, for example, with one-off methods to do the filtering, mapping, and grouping I just described above. I would write a lot more code (and tests) and the special-purpose nature of that code would make the class less attractive for reuse.
Though custom types and methods provide a self-documentation feature, for example <strong>EmailAddresses.groupUsersByDomian</strong> tells the reader exactly what&rsquo;s goining on, ther&rsquo;s a better way. I can use DSLs to represent a domain  at the upper levels of abstraction. I can have a DSL that says, <strong>groupUsersByDomain</strong> in <strong>emailAddresses</strong>, but implement it with <strong>List<EmailAddresses>.foldLeft(new HashMap&lt;&hellip;.>(), groupingFunction)</strong> where <strong>groupingFunction</strong> does the <em>group by</em> magic on the users and domains.</p>

<p>I am looking at <a href="http://alistair.cockburn.us/Hexagonal+architecture">Hexagonal architecture</a>, and <a href="http://en.wikipedia.org/wiki/Entity_component_system">Entity Component System</a> to under different styles of system design regarding this issue.</p>

<ul>
<li>functional programming is more modular. How? FP moves the abstraction layers lower, to core data structures and combinator functions. It combines immutable code and side-effect-free functions.</li>
</ul>


<p>I think I start addicting to use combinator functions like map, reduce, etc&hellip; However, I still struggle with designing FP system.</p>

<ul>
<li>work faster; FP keeps code concise by minimizing unnecessary and &ldquo;one-off&rdquo; implementation constructs, and it keeps the code logically correct.</li>
</ul>


<p>Most of FP code I work with is just a toy project I create myself. I might see this value when my project grows.</p>

<ul>
<li>functional programming is a return to simplicity; the goal of minimizing implementation size and complexity by rethinking our ideas of appropriate design patterns and implementation idioms.</li>
</ul>


<p>This reason is very vague for me. It is a philosophy and I am not good at such a thing.</p>

<h1>Basic principles of FP</h1>

<ul>
<li>immutable state</li>
<li>functions as first-class value</li>
<li>lambdas and closures</li>
<li>higher-order functions</li>
<li>side-effect free functions</li>
<li>recursion</li>
<li>lazy vs eager evaluation</li>
<li>declarative vs imperative programs</li>
<li>algebraic data type and abstract data type</li>
</ul>


<h2>Data Structure and Algorithm</h2>

<ul>
<li>list</li>
<li>map</li>
<li>combinator: filter, map, fold</li>
<li>Persistent Data Structure</li>
<li>Domain Specific Language (DSL)</li>
</ul>


<h1>Concurrency</h1>

<ul>
<li>Immutable state</li>
<li>Actor</li>
<li>Software Transactional Machine (STM)</li>
<li>Communicating Sequencial Processes (not described in the book)</li>
</ul>


<h1>Tools to improve modularity and reuse</h1>

<ul>
<li>custom classes aren&rsquo;t always justified</li>
<li>put your domain in domain-specific languages</li>
<li>function combinators</li>
<li>use more generic types</li>
</ul>


<h1>Better OOP</h1>

<ul>
<li>A practical way to ensure that LSP(Liskov Substitute Principle) is satisfied is to use Design by Contract. It can be hard to define properties weell. The freedom and flexibility of inheritance doesn&rsquo;t provide much guidance, but design patterns help. <strong>Template Method pattern</strong> provides useful constraint on <em>subtype polymorphism</em>. FP gives me a similiar tool, <strong>higher-order function</strong>.</li>
<li><strong>Higher-order function</strong> and <strong>immutable state</strong> make design patterns like singleton, composite, command, and iterator obsolete in FP.</li>
<li>FP has a feature called <strong>pattern matching</strong> that can solve the problem visitor pattern is trying to solve.</li>
<li>Any data that fits in a collection probably should not have its own dedicated type. I can use types to represent domain concepts with stable, clear properties. Consider using maps, lists, trees, and sets to represent other domain concepts that are more fluid and imprecise.</li>
</ul>


<p>Other ideas to look deeper is design by contract vs tdd, and monad pattern.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/02/16/failed-to-build-gem-native-extension/">Failed to Build Gem Native Extension</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-02-16T18:03:19+07:00" pubdate data-updated="true">Feb 16<span>th</span>, 2014</time>
        
         | <a href="/blog/2014/02/16/failed-to-build-gem-native-extension/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Steps involved</p>

<ul>
<li>Download and install 7-zip.</li>
<li>Download the Development Kit and install it in say c:\devkit.</li>
<li>Open a command window and type c:.</li>
<li>Change folders by typing cd devkit.</li>
<li>Type ruby dk.rb init to generate the config.yml file to be used later. Your installed Rubies will be listed there (only those installed by a RubyInstaller package are detected at present). This needs to be done only once.</li>
<li>Finally type, ruby dk.rb install for DevKit enhance your installed Rubies. This needs to be done only once.</li>
<li>Confirm your Ruby environment is correctly using the DevKit by running: gem install bson_ext &mdash;platform=ruby. Itâ€™s crucial that you include the &mdash;platform=ruby option to force RubyGems to build the native gem rather than potentially installing an incorrect binary gem.</li>
</ul>


<p>Fore more information, see <a href="http://rubylearning.com/blog/how-do-i-install-a-ruby-gem-with-native-extensions-on-windows/">here</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/02/16/getting-started-with-octopress/">Getting Started With Octopress</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-02-16T16:02:12+07:00" pubdate data-updated="true">Feb 16<span>th</span>, 2014</time>
        
         | <a href="/blog/2014/02/16/getting-started-with-octopress/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This blog has been setup many months ago, but I don&rsquo;t have time to update it. Today I decide to update it. Unfortunately, I run into a problem with run <em>rake deploy</em>. It always reject the request to push to master branch.
I&rsquo;ve setup the octopress for many times today. Issues still exist:</p>

<ul>
<li>How to setup existing octopress system</li>
<li>Make codeblock work when setting language</li>
</ul>


<p>It may be because I am not familiar with octopress itself. Followings are some issues and solutions I am able to find:</p>

<ul>
<li>At last, I find a guide to setup octopress in Windows. <a href="http://blog.zerosharp.com/setting-up-octopress-on-windows-again/">Link</a> here. In the same time, it also describes how to solve issue with codeblock.</li>
<li>Gem::RemoteFetcher::FetchError: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed (<a href="https://rubygems.org/gems/rake-0.9.6.gem">https://rubygems.org/gems/rake-0.9.6.gem</a>). <a href="https://gist.github.com/fnichol/867550">Link</a> to solve this issue. It seems I have to add environment variable through control panel to fix this issue.</li>
<li>Interesting enough, there is a tutorial to create a fresh new blog system on octopress website; but I cannot follow that instruction if I want to setup an existing octopress copy. There&rsquo;s an <a href="http://weishi.github.io/blog/2013/07/24/setup-an-existing-octopress-repository-after-git-clone/">exellent tutorial</a> to work around this issue.</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/02/16/octopress-and-google-analytics/">Octopress and Google Analytics</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-02-16T15:36:51+07:00" pubdate data-updated="true">Feb 16<span>th</span>, 2014</time>
        
         | <a href="/blog/2014/02/16/octopress-and-google-analytics/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>When hosting octopress on github, just provide the google analytics track id is not enough.
I need to edit file <em>source/_includes/google_analytics.html</em> in the source tree. I add extra line of javascript to the default script.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">_gaq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;_setAccount&#39;</span><span class="p">,</span> <span class="s1">&#39;UA-48117162-1&#39;</span><span class="p">]);</span>
</span><span class='line'><span class="nx">_gaq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;_setDomainName&#39;</span><span class="p">,</span><span class="s1">&#39;github.io&#39;</span><span class="p">]);</span>
</span><span class='line'><span class="nx">_gaq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;_trackPageview&#39;</span><span class="p">]);</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/02/16/zsh-and-square-brackets/">ZSH and Square Brackets</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-02-16T15:35:48+07:00" pubdate data-updated="true">Feb 16<span>th</span>, 2014</time>
        
         | <a href="/blog/2014/02/16/zsh-and-square-brackets/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In short just setup the alias in my <em>.zshrc</em>.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">alias </span><span class="nv">rake</span><span class="o">=</span><span class="s1">&#39;noglob rake&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>For reference, see <a href="http://kinopyo.com/blog/escape-square-bracket-by-default-in-zsh/">here</a>.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <ul id="recent_posts">
      <li class="post">
      <a href="http://darong-m.github.io" alt="Home"><img src="/images/Home.png"></a>
      <a href="http://darong-m.github.io/archives/" alt="Archives"><img src="/images/Calendar.png"></a>
      <a href="mailto:darong012@gmail.com" alt="E-Mail"><img src="/images/Envelope.png"></a>
      <a href="http://darong-m.github.io/atom.xml" alt="subscribe feed"><img src="/images/rss_big.png"></a>
      </li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/02/22/why-fp/">Why FP?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/16/failed-to-build-gem-native-extension/">Failed to Build Gem Native Extension</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/16/getting-started-with-octopress/">Getting Started With Octopress</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/16/octopress-and-google-analytics/">Octopress and Google Analytics</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/16/zsh-and-square-brackets/">ZSH and Square Brackets</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/darong-m">@darong-m</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'darong-m',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/+DarongM?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Darong Mean -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'darong-m';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
